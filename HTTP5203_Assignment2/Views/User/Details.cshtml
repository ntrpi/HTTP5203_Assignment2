@model HTTP5203_Assignment2.Models.ViewModels.ViewUser

<div>
  <h4>Customer</h4>
  <hr />
  <dl class="row">
    <dt class="col-sm-2">
      @Html.DisplayNameFor( model => model.user.userId )
    </dt>
    <dd class="col-sm-10">
      @Html.DisplayFor( model => model.user.userId )
    </dd>
    <dt class="col-sm-2">
      @Html.DisplayNameFor( model => model.user.name )
    </dt>
    <dd class="col-sm-10">
      @Html.DisplayFor( model => model.user.name )
    </dd>
    <dt class="col-sm-2">
      @Html.DisplayNameFor( model => model.user.userName )
    </dt>
    <dd class="col-sm-10">
      @Html.DisplayFor( model => model.user.userName )
    </dd>
    <dt class="col-sm-2">
      @Html.DisplayNameFor( model => model.user.userType )
    </dt>
    <dd class="col-sm-10">
      @Html.DisplayFor( model => model.user.userType )
    </dd>
    @if( Model.user.userType == HTTP5203_Assignment2.Models.User.UserType.customer ) {
      <dt class="col-sm-2">
        @Html.DisplayNameFor( model => model.email )
      </dt>
      <dd class="col-sm-10">
        @Html.DisplayFor( model => model.email )
      </dd>
    }
  </dl>
</div>
<hr/>
<h5>Tickets</h5>
@if( Model.tickets.Count() == 0 ) {
  <span class="m-3">* No Messages *</span>
} else {
  <table class="table table-striped table-borderless">
    <thead style="height:1px">
      <tr>
        <th></th>
        <th></th>
        <th></th>
        <th></th>
        <th></th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      @foreach( var item in Model.tickets ) {
        <tr>
          <td>
            @Html.DisplayFor( modelItem => item.ticket.ticketId )
          </td>
          <td>
            @Html.DisplayFor( modelItem => item.ticket.timestamp )
          </td>
          <td>
            @Html.DisplayFor( modelItem => item.ticket.subject )
          </td>
          <td>
            @Html.DisplayFor( modelItem => item.ticket.status )
          </td>
          <td>
            @Html.DisplayFor( modelItem => item.product.name )
          </td>
          <td>
            @Html.ActionLink( "Details", "Details", "Ticket", new {
              id = item.ticket.ticketId
            } )
          </td>
        </tr>
      }
    </tbody>
  </table>
}
<div>
  @Html.ActionLink( "Edit", "Edit", new {
    id = Model.user.userId
  } ) |
  <a asp-action="Index">Back to List</a>
</div>
